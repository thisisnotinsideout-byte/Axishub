<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AxisHub — Sign Up / Sign In</title>
  <!-- Tailwind via CDN for quick styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Pixel-art looping background */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: url('./bg.gif') center/cover no-repeat fixed; /* put a file named bg.gif in your repo root */
      filter: saturate(1.1) contrast(1.05) brightness(0.9);
      z-index: -2;
    }
    /* dark overlay to increase contrast */
    body::after {
      content: "";
      position: fixed; inset: 0;
      background: rgba(0,0,0,0.45);
      z-index: -1;
    }
    /* Crisp pixels */
    img, canvas { image-rendering: pixelated; }
  </style>
</head>
<body class="min-h-screen text-white">
  <header class="max-w-3xl mx-auto p-6">
    <div class="flex items-center gap-3">
      <div class="w-9 h-9 bg-white/10 rounded-md backdrop-blur"></div>
      <h1 class="text-2xl font-black tracking-tight">AxisHub</h1>
      <span class="ml-auto text-xs uppercase bg-white/10 rounded px-2 py-1">Preview</span>
    </div>
  </header>

  <main class="max-w-3xl mx-auto px-6 pb-24">
    <!-- Auth Card -->
    <div class="bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl p-6 border border-white/10">
      <h2 class="text-xl font-bold mb-2">Create account / Sign in</h2>
      <p class="text-white/80 text-sm mb-6">Static site on GitHub Pages using <b>Firebase Authentication</b>. Replace the Firebase config in the code with your project keys, then enable providers you want to use (email, Google, etc.).</p>

      <!-- Status / User Box -->
      <div id="userBox" class="hidden mb-6 p-4 rounded-xl bg-emerald-500/15 border border-emerald-400/30"></div>

      <div class="grid sm:grid-cols-2 gap-6">
        <!-- Sign Up -->
        <form id="signupForm" class="space-y-3 bg-black/25 p-4 rounded-xl border border-white/10">
          <h3 class="font-semibold">Sign Up</h3>
          <input id="su_email" type="email" required placeholder="Email" class="w-full px-3 py-2 rounded bg-white/10 border border-white/20 focus:outline-none focus:border-white/60">
          <input id="su_pass" type="password" required placeholder="Password (6+ chars)" class="w-full px-3 py-2 rounded bg-white/10 border border-white/20 focus:outline-none focus:border-white/60">
          <button class="w-full py-2 rounded-xl bg-white text-black font-semibold active:scale-[.99]">Create Account</button>
          <p id="su_msg" class="text-sm text-white/80"></p>
        </form>

        <!-- Sign In -->
        <form id="signinForm" class="space-y-3 bg-black/25 p-4 rounded-xl border border-white/10">
          <h3 class="font-semibold">Sign In</h3>
          <input id="si_email" type="email" required placeholder="Email" class="w-full px-3 py-2 rounded bg-white/10 border border-white/20 focus:outline-none focus:border-white/60">
          <input id="si_pass" type="password" required placeholder="Password" class="w-full px-3 py-2 rounded bg-white/10 border border-white/20 focus:outline-none focus:border-white/60">
          <button class="w-full py-2 rounded-xl bg-white text-black font-semibold active:scale-[.99]">Sign In</button>
          <button type="button" id="googleBtn" class="w-full py-2 rounded-xl border border-white/40 font-semibold">Continue with Google</button>
          <p id="si_msg" class="text-sm text-white/80"></p>
        </form>
      </div>

      <!-- After login actions -->
      <div id="authedArea" class="hidden mt-6 p-4 rounded-xl bg-white/5 border border-white/10">
        <div class="flex items-center gap-2 mb-4">
          <span class="text-sm uppercase tracking-wider text-white/70">Account</span>
          <div class="h-px bg-white/20 flex-1"></div>
        </div>
        <div class="flex flex-wrap gap-3 items-center">
          <button id="signOutBtn" class="px-4 py-2 rounded-xl bg-white text-black font-semibold">Sign Out</button>
          <a href="#" class="px-4 py-2 rounded-xl border border-white/30">Manage Profile (coming soon)</a>
          <a href="#" class="px-4 py-2 rounded-xl border border-white/30">Axis AI (coming soon)</a>
        </div>
      </div>
    </div>

    <!-- Footer / tiny credits -->
    <p class="mt-6 text-center text-xs text-white/70">© <span id="year"></span> AxisHub. All rights reserved.</p>
  </main>

  <!-- Firebase + App Logic -->
  <script type="module">
    // 1) Replace with your Firebase project config
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      appId: "YOUR_APP_ID",
      // (Optional for Firestore/Analytics/Storage if you add later)
    };

    // 2) Load Firebase (modular SDK via CDN)
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    const $ = (sel) => document.querySelector(sel);

    const userBox = $('#userBox');
    const authedArea = $('#authedArea');
    const signupForm = $('#signupForm');
    const signinForm = $('#signinForm');
    const su_msg = $('#su_msg');
    const si_msg = $('#si_msg');

    // Sign Up
    signupForm?.addEventListener('submit', async (e) => {
      e.preventDefault();
      su_msg.textContent = '';
      const email = /** @type {HTMLInputElement} */(document.getElementById('su_email')).value.trim();
      const pass = /** @type {HTMLInputElement} */(document.getElementById('su_pass')).value;
      try {
        await createUserWithEmailAndPassword(auth, email, pass);
        su_msg.textContent = 'Account created! You are now signed in.';
      } catch (err) {
        su_msg.textContent = err.message;
      }
    });

    // Sign In
    signinForm?.addEventListener('submit', async (e) => {
      e.preventDefault();
      si_msg.textContent = '';
      const email = /** @type {HTMLInputElement} */(document.getElementById('si_email')).value.trim();
      const pass = /** @type {HTMLInputElement} */(document.getElementById('si_pass')).value;
      try {
        await signInWithEmailAndPassword(auth, email, pass);
        si_msg.textContent = 'Signed in!';
      } catch (err) {
        si_msg.textContent = err.message;
      }
    });

    // Google Sign-In
    const googleBtn = document.getElementById('googleBtn');
    googleBtn?.addEventListener('click', async () => {
      try {
        const provider = new GoogleAuthProvider();
        await signInWithPopup(auth, provider);
      } catch (err) {
        si_msg.textContent = err.message;
      }
    });

    // Sign Out
    document.getElementById('signOutBtn')?.addEventListener('click', () => signOut(auth));

    // Auth state
    onAuthStateChanged(auth, (user) => {
      if (user) {
        userBox.classList.remove('hidden');
        authedArea.classList.remove('hidden');
        userBox.innerHTML = `<b>Signed in:</b> ${user.email || 'Anonymous'}<br><span class="text-xs opacity-80">UID: ${user.uid}</span>`;
      } else {
        userBox.classList.add('hidden');
        authedArea.classList.add('hidden');
      }
    });

    // footer year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>

